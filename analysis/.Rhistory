for(a in 2:length(adata)) {
print(a)
adf = read.csv(afiles[a])
adata = rbind(adata, adf)
}
typeof(adata)
afiles = filename[str_detect(filename, pattern = "artifacts")]
adata = as.data.frame(read.csv(afiles[1]))
for(a in 2:length(adata)) {
adf = as.data.frame(read.csv(afiles[a]))
adata = rbind(adata, adf)
}
typeof(adata)
View(adata)
lfiles = filename[str_detect(filename, patterns = "layers")]
lfiles = filename[str_detect(filename, pattern = "layers")]
ldata = read.csv(lfiles[1])
View(ldata)
ldata = rbind(ldata, read.csv(lfiles[2]))
View(ldata)
lfiles = filename[str_detect(filename, pattern = "layers")]
ldata = read.csv(lfiles[1])
for(l in 2:length(ldata)) {
ldata = rbind(ldata, read.csv(lfiles[l]))
}
lfiles = filename[str_detect(filename, pattern = "layers")]
ldata = read.csv(lfiles[1])
for(l in 2:length(lfiles)) {
ldata = rbind(ldata, read.csv(lfiles[l]))
}
View(ldata)
layers = ldata %>% filter(ldata[,29:33] != 0)
View(layers)
ggplot(layers, aes(x = as.factor(model_year), y = nodule.count)) +
geom_boxplot() +
facet_wrap(~max_artifact_carry)
unique(layers$model_year)
length(unique(layers$model_year))
head(unique(layers$model_year), n=length(unique(layers$model_year)))
test = head(unique(layers$model_year), n=(length(unique(layers$model_year)))/2)
ggplot(test, aes(x = as.factor(model_year), y = nodule.count)) +
geom_boxplot() +
facet_wrap(~max_artifact_carry)
ltest = layers %>% select(model_year = test)
ltest = layers %>% select(model_year %in% test)
ltest = layers %>% filter(model_year %in% test)
test = tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3)
ltest = layers %>% filter(model_year %in% test)
ggplot(ltest, aes(x = as.factor(model_year), y = nodule.count)) +
geom_boxplot() +
facet_wrap(~max_artifact_carry)
ltest2 = layers %>% group_by(max_artifact_carry, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio),
avg.ri = mean(recycling.intensity),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters),
avg.man = mean(num.manufacture),
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
View(ltest2)
ltest2 = layers %>% group_by(max_artifact_carry, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters),
avg.man = mean(num.manufacture),
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
ggplot(ltest2, aes(x = model_year, y = avg.ncount)) +
geom_line +
facet_wrap(~max_artifact_carry)
ggplot(ltest2, aes(x = model_year, y = avg.ncount)) +
geom_line() +
facet_wrap(~max_artifact_carry)
ggplot(ltest2, aes(x = model_year, y = avg.ncount)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_y_reverse()
theme_set(theme_minimal())
ggplot(ltest2, aes(x = model_year, y = avg.ncount)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_y_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.fcount)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_y_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.fcount)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.dis)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.enc)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.man)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.ret)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.occ)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.cr)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.ncount)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.fcount)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.dis)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
layers = layers_data(maxUI)
layers_data = function(filename) {
lfiles = filename[str_detect(filename, pattern = "layers")]
ldata = read.csv(lfiles[1])
for(l in 2:length(lfiles)) {
ldata = rbind(ldata, read.csv(lfiles[l]))
}
layers1 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% head(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers2 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers = layers2 = ldata %>% filter(ldata[,29:33] != 0)
return(layers)
}
layers = layers_data(maxUI)
test = tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3)
ltest = layers %>% filter(model_year %in% test)
ltest2 = layers %>% group_by(max_artifact_carry, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation)) #doesn't change
ltest2 = layers %>% group_by(max_use_intensity, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation)) #doesn't change
ggplot(ltest2, aes(x = model_year, y = avg.ncount)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.fcount)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.cr)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
layers = layers_data(maxAC)
maxUI = list.files(path="../output/test-maxUI", full.names = T)
layers = layers_data(maxUI)
test = tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3)
ltest = layers %>% filter(model_year %in% test)
ltest2 = layers %>% group_by(max_use_intensity, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation)) #doesn't change
ggplot(ltest2, aes(x = model_year, y = avg.ncount)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.fcount)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
View(ldata)
maxUI = list.files(path="../output/test-maxUI", full.names = T)
layers_data = function(filename) {
lfiles = filename[str_detect(filename, pattern = "layers")]
ldata = read.csv(lfiles[1])
for(l in 2:length(lfiles)) {
ldata = rbind(ldata, read.csv(lfiles[l]))
}
layers1 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% head(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers2 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers = layers2 = ldata %>% filter(ldata[,29:33] != 0)
return(layers)
}
layers = layers_data(maxUI)
View(layers)
ltest2 = layers %>% group_by(max_use_intensity, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation)) #doesn't change
ggplot(ltest2, aes(x = model_year, y = avg.fcount)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.cr)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.dis)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.ret)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.cr)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
maxUI = list.files(path="../output/test-maxUI", full.names = T)
layers = layers_data(maxUI)
ltest2 = layers %>% group_by(max_use_intensity, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation)) %>%
filter(max_use_intensity >= 20)
ggplot(ltest2, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
layers = layers_data(numAg)
ltest2 = layers %>% group_by(num_agents, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation)) %>%
filter(max_use_intensity >= 20)
ltest2 = layers %>% group_by(num_agents, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
ggplot(ltest2, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
ggplot(ltest2, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~num_agents) +
scale_x_reverse()
library(readxl)
experiment_parameters <- read_excel("~/eclipse-workspace/recycling-Java/output/experiment-parameters.xlsx",
sheet = "test-numAgents")
View(experiment_parameters)
lm(last_agent ~ timesteps, data = experiment_parameters)
eq = lm(last_agent ~ timesteps, data = experiment_parameters)
summary(eq)
##equations for determining number of agents
experiment_parameters <- read_excel("~/eclipse-workspace/recycling-Java/output/experiment-parameters.xlsx",
+     sheet = "test-numAgents")
##equations for determining number of agents
experiment_parameters <- read_excel("~/eclipse-workspace/recycling-Java/output/experiment-parameters.xlsx", sheet = "test-numAgents")
eq = lm(last_agent ~ timesteps, data = experiment_parameters)
summary(eq)
eq = lm(last_agent ~ timesteps, data = experiment_parameters[,c(11:30)])
summary(eq)
eq = lm(last_agent ~ timesteps, data = experiment_parameters[c(11:30),])
summary(eq)
eq = lm(last_agent ~ timesteps, data = experiment_parameters[c(1:10),])
summary(eq)
eq = lm(last_agent ~ timesteps, data = experiment_parameters)
summary(eq)
layers = layers_data(maxAC)
test = tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3)
ltest = layers %>% filter(model_year %in% test)
ltest2 = layers %>% group_by(num_agents, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
library(tidyverse)
theme_set(theme_minimal())
maxAC = list.files(path="../output/test-maxAC", full.names = T)
maxUI = list.files(path="../output/test-maxUI", full.names = T)
numAg = list.files(path="../output/test-numAgents", full.names = T)
layers_data = function(filename) {
lfiles = filename[str_detect(filename, pattern = "layers")]
ldata = read.csv(lfiles[1])
for(l in 2:length(lfiles)) {
ldata = rbind(ldata, read.csv(lfiles[l]))
}
layers1 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% head(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers2 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers = layers2 = ldata %>% filter(ldata[,29:33] != 0)
return(layers)
}
layers.ac = layers_data(maxAC)
l.ac = layers.ac %>% group_by(max_artifact_carry, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
ggplot(l.ac, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
layers.ui = layers_data(maxUI)
l.ui = layers.ui %>% group_by(max_use_intensity, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.enc = mean(num.encounters), #doesn't change
avg.man = mean(num.manufacture), #doesn't change
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
ggplot(l.ac, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
View(l.ui)
ggplot(l.ui, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
length(unique(l.ui$model_year))
length(unique(l.ac$model_year))
filename = maxAC
mfiles = filename[str_detect(filename, pattern = "model")]
mdata = read.csv(mfiles[1])
View(mdata)
for(l in 2:length(mfiles)) {
mdata = rbind(mdata, read.csv(mfiles[l]))
}
View(mdata)
##model data
model_data = function(filename) {
mfiles = filename[str_detect(filename, pattern = "model")]
mdata = read.csv(mfiles[1])
for(l in 2:length(mfiles)) {
mdata = rbind(mdata, read.csv(mfiles[l]))
}
return(mdata)
}
maxAC.m = model_data(maxAC)
library(tidyverse)
theme_set(theme_minimal())
maxAC = list.files(path="../output/test-maxAC", full.names = T)
maxUI = list.files(path="../output/test-maxUI", full.names = T)
numAg = list.files(path="../output/test-numAgents", full.names = T)
layers_data = function(filename) {
lfiles = filename[str_detect(filename, pattern = "layers")]
ldata = read.csv(lfiles[1])
for(l in 2:length(lfiles)) {
ldata = rbind(ldata, read.csv(lfiles[l]))
}
layers1 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% head(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers2 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers = layers2 = ldata %>% filter(ldata[,29:33] != 0)
return(layers)
}
layers.ac = layers_data(maxAC)
l.ac = layers.ac %>% group_by(max_artifact_carry, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
var.ri = var(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
ggplot(l.ac, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(l.ac, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(l.ac, aes(x = model_year, y = var.ri)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
ggplot(l.ac, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_wrap(~max_artifact_carry) +
scale_x_reverse()
layers.ui = layers_data(maxUI)
l.ui = layers.ui %>% group_by(max_use_intensity, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
var.ri = var(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
ggplot(l.ui, aes(x = model_year, y = var.ri)) +
geom_line() +
facet_wrap(~max_use_intensity) +
scale_x_reverse()
int = list.files(path="../output/test-INT", full.names = T)
layers.int = layer_data(int)
layers_data = function(filename) {
lfiles = filename[str_detect(filename, pattern = "layers")]
ldata = read.csv(lfiles[1])
for(l in 2:length(lfiles)) {
ldata = rbind(ldata, read.csv(lfiles[l]))
}
layers1 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% head(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers2 = ldata %>% filter(ldata[,29:33] != 0) %>%
filter(model_year %in% tail(unique(layers$model_year), n=(length(unique(layers$model_year)))/3))
layers = layers2 = ldata %>% filter(ldata[,29:33] != 0)
return(layers)
}
layers.int = layers_data(int)
l.int = layers.int %>% group_by(max_use_intensity, max_artifact_carry, model_year) %>%
summarize(avg.ncount = mean(nodule.count),
avg.fcount = mean(flake.count),
avg.cr = mean(cortex.ratio, na.rm=T),
avg.ri = mean(recycling.intensity, na.rm=T),
var.ri = var(recycling.intensity, na.rm=T),
avg.dis = mean(num.discards),
avg.ret = mean(num.retouch),
avg.occ = mean(num.occupation))
ggplot(l.int, aes(x = model_year, y = avg.ri)) +
geom_line() +
facet_grid(max_artifact_carry~max_use_intensity) +
scale_x_reverse()
ggplot(l.int, aes(x = model_year, y = var.ri)) +
geom_line() +
facet_grid(max_artifact_carry~max_use_intensity) +
scale_x_reverse()
